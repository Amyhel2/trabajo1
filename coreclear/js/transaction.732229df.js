"use strict";(self["webpackChunkcoreclear_portal"]=self["webpackChunkcoreclear_portal"]||[]).push([[209],{2152:(t,e,a)=>{a.d(e,{Z:()=>h});var i=a(5057),s=a(3432),n=function(){var t=this,e=t._self._c;return e(s.Z,{attrs:{color:t.color,bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i.Z,t._g(t._b({attrs:{color:t.color}},"v-icon",s,!1),a),[t._v(t._s(t.icon))])]}}])},[e("span",[t._v(t._s(t.message))])])},o=[],r={name:"BoolStatus",props:{status:{type:Boolean,required:!0,default:!1},statusMessage:{type:String,required:!1,default:"Approved"}},computed:{icon(){return this.status?"mdi-checkbox-marked-circle":"mdi-close"},color(){return this.status?"success":"error"},message(){return this.statusMessage.length>0?this.statusMessage:this.status?"Approved":"Unknown Error"}}},l=r,c=a(1001),u=(0,c.Z)(l,n,o,!1,null,null,null),h=u.exports},5811:(t,e,a)=>{a.r(e),a.d(e,{default:()=>V});var i=a(2202),s=a(7179),n=a(3385),o=a(5223),r=a(4437),l=a(9841),c=a(7345),u=a(9789),h=a(4192),d=a(5057),p=a(92),g=a(1302),f=a(5294),m=a(2927),v=a(5234),y=a(6660),C=a(5952),D=a(5838),k=a(2370),_=function(){var t=this,e=t._self._c;return e(f.Z,{staticClass:"justify-center"},[e(r.Z,{attrs:{cols:"12",md:"10"}},[e(i.Z,{attrs:{type:t.alertType,border:"left","close-text":"Close Alert",dismissible:"",transition:"scale-transition"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v(" "+t._s(t.alertMessage)+" ")]),e(u.Z,{attrs:{width:"550"},model:{value:t.voidRefundDialog,callback:function(e){t.voidRefundDialog=e},expression:"voidRefundDialog"}},[e(n.Z,[e(o.EB,{staticClass:"text-h5 text-capitalize"},[t._v(" "+t._s(t.voidOrRefund)+" Options ")]),e(h.Z),e(o.ZB,{staticClass:"mt-3"},[t._v(" Please select how you would like to "+t._s(t.voidOrRefund)+" this sale ")]),e(o.h7,[e(v.Z),e(s.Z,{staticClass:"white--text text-capitalize",attrs:{color:"error"},on:{click:t.voidRefundTransaction}},[t._v(" "+t._s(t.voidOrRefund)+" Full Amount ")]),e(s.Z,{staticClass:"white--text text-capitalize",attrs:{color:"error"},on:{click:function(e){t.voidRefundPartialAmountDialog=!0,t.voidRefundDialog=!1,t.amount=""}}},[t._v(" "+t._s(t.voidOrRefund)+" Partial Amount ")]),e(s.Z,{staticClass:"white--text text-capitalize",attrs:{color:"cyan lighten-1"},on:{click:function(e){t.voidRefundDialog=!1}}},[t._v(" Cancel ")])],1)],1)],1),e(u.Z,{attrs:{width:"550"},model:{value:t.voidRefundPartialAmountDialog,callback:function(e){t.voidRefundPartialAmountDialog=e},expression:"voidRefundPartialAmountDialog"}},[e(n.Z,[e(o.EB,{staticClass:"text-h5"},[t._v(" Please enter "+t._s(t.voidOrRefund)+" amount ")]),e(h.Z),e(r.Z,{attrs:{cols:"12"}},[e(C.Z,{attrs:{label:"Amount",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),e(o.h7,[e(v.Z),e(s.Z,{staticClass:"text-capitalize",attrs:{color:"grey",text:""},on:{click:function(e){t.voidRefundPartialAmountDialog=!1}}},[t._v(" Cancel ")]),e(s.Z,{staticClass:"white--text text-capitalize",attrs:{color:t.getAppColors.primary},on:{click:function(e){return t.voidRefundTransaction(!1)}}},[t._v(" OK ")])],1)],1)],1),e(u.Z,{attrs:{width:"550"},model:{value:t.captureDialog,callback:function(e){t.captureDialog=e},expression:"captureDialog"}},[e(n.Z,[e(o.EB,{staticClass:"text-subtitle-1"},[t._v(" Are you sure you want to capture this transaction? ")]),e(o.h7,[e(v.Z),e(s.Z,{staticClass:"text-capitalize",attrs:{color:"grey",text:""},on:{click:function(e){t.captureDialog=!1}}},[t._v(" Cancel ")]),e(s.Z,{staticClass:"white--text text-capitalize",attrs:{color:t.getAppColors.primary},on:{click:function(e){return t.capturePreauth()}}},[t._v(" OK ")])],1)],1)],1),e(u.Z,{attrs:{"hide-overlay":"",persistent:"",transition:"dialog-bottom-transition",width:"300"},model:{value:t.loadingActions,callback:function(e){t.loadingActions=e},expression:"loadingActions"}},[e(n.Z,{attrs:{color:t.getAppColors.primary,dark:""}},[e(o.ZB,[t._v(" Processing... "),e(g.Z,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),e(l.Z,{directives:[{name:"show",rawName:"v-show",value:!t.loadingActions,expression:"!loadingActions"}],staticClass:"elevation-4 rounded-lg mt-2",attrs:{headers:t.headers,items:t.transactions,loading:t.loading,"loading-text":"Loading... Please wait","footer-props":t.tableFooterProps,"sort-by":"timestamp","sort-desc":""},scopedSlots:t._u([{key:"item.timestamp",fn:function({item:e}){return[t._v(" "+t._s(t.formatDateTime(e.timestamp))+" ")]}},{key:"item.sale_id",fn:function({item:a}){return[null!=a.receipt_link?[e(s.Z,{staticClass:"white--text",attrs:{color:"primary",href:a.receipt_link,target:"_blank"}},[t._v(" "+t._s(a.sale_id)+" ")])]:null!=a.sale_id?[t._v(" "+t._s(a.sale_id)+" ")]:[t._v(" N/A ")]]}},{key:"item.approved",fn:function({item:t}){return[e("bool-status",{attrs:{status:t.approved,"status-message":t.responseDescription}})]}},{key:"item.authorizedAmount",fn:function({item:a}){return[e("div",{class:"void"===a.transactionType||"refund"===a.transactionType||"reverse"===a.transactionType?"red--text font-weight-bold":""},[t._v(" "+t._s(t._f("currency")(a.authorizedAmount,a.transactionType))+" ")])]}},{key:"item.transactionType",fn:function({item:e}){return[t._v(" "+t._s(t._f("titleCase")(e.transactionType))+" ")]}},{key:"item.entryMethod",fn:function({item:e}){return[t._v(" "+t._s(t._f("titleCase")(e.entryMethod))+" ")]}},{key:"item.paymentType",fn:function({item:e}){return[t._v(" "+t._s(t._f("titleCase")(e.paymentType))+" ")]}},{key:"item.actions",fn:function({item:a}){return["charge"==a.transactionType&&a.approved&&t.formatDate(a.timestamp)==t.formatDate(new Date)?e(s.Z,{staticClass:"white--text text-none",attrs:{color:"error"},on:{click:function(e){return t.showVoidRefundDialog("void",a.transactionId)}}},[t._v(" Void ")]):"charge"==a.transactionType&&a.approved&&t.formatDate(a.timestamp)!=t.formatDate(new Date)?e(s.Z,{staticClass:"white--text text-none",attrs:{color:"error"},on:{click:function(e){return t.showVoidRefundDialog("refund",a.transactionId)}}},[t._v(" Refund ")]):"preauth"==a.transactionType&&a.approved?e(s.Z,{staticClass:"white--text text-none",attrs:{color:t.getAppColors.primary},on:{click:function(e){t.captureDialog=!0,t.selectedTransactionId=a.transactionId}}},[t._v(" Capture ")]):t._e()]}},{key:"top",fn:function(){return[e(D.Z,{staticClass:"rounded-t-lg",attrs:{color:"green darken-2",dark:"",flat:""}},[e(k.qW,[t._v("Transactions")]),e(h.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e(C.Z,{attrs:{label:"Search","append-icon":"search","single-line":"","hide-details":"",clearable:"",dark:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.datepickerDateRange=[],t.initialize()},"click:append":function(e){t.datepickerDateRange=[],t.initialize()},"click:clear":function(e){return t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(v.Z),e(k.qW,[t._v(" Total Transactions for "+t._s(t.dateRangeDisplay)+": "+t._s(t._f("currency")(t.getTotal))+" ")]),e(h.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e(s.Z,{staticClass:"mr-2",attrs:{color:"primary",rounded:"",dark:""},on:{click:t.excelExport}},[e(d.Z,[t._v("mdi-download")])],1),e(p.Z,{attrs:{"close-on-content-click":!1,"offset-x":"",left:"","max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(s.Z,t._g(t._b({attrs:{color:"primary",rounded:"",dark:""}},"v-btn",i,!1),a),[e(d.Z,[t._v("mdi-filter")])],1)]}}]),model:{value:t.filterMenu,callback:function(e){t.filterMenu=e},expression:"filterMenu"}},[e(n.Z,[e(o.EB,[t._v(" Filters")]),e(o.ZB,[e(f.Z,[e(r.Z,{attrs:{cols:"12"}},[e(m.Z,{attrs:{label:"Transaction Types",color:t.getAppColors.primary,"item-color":"green","append-icon":"mdi-filter",items:t.transactionTypes,multiple:"",chips:"","deletable-chips":""},on:{change:t.saveFilterPreferences},model:{value:t.filterTypes,callback:function(e){t.filterTypes=e},expression:"filterTypes"}})],1),e(r.Z,{attrs:{cols:"12"}},[t.useCustomDateRange?e(p.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(C.Z,t._g(t._b({attrs:{label:"Choose Date Range",color:t.getAppColors.primary,"append-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",i,!1),a))]}}],null,!1,2310006902),model:{value:t.datePickerMenu,callback:function(e){t.datePickerMenu=e},expression:"datePickerMenu"}},[e(c.Z,{attrs:{color:t.getAppColors.primary,range:""},on:{change:function(e){t.search="",t.initialize()}},model:{value:t.datepickerDateRange,callback:function(e){t.datepickerDateRange=e},expression:"\n                                                    datepickerDateRange\n                                                "}})],1):e(m.Z,{attrs:{color:t.getAppColors.primary,items:t.getBlockchypDateRangeChoices,"item-color":"green","single-line":"","hide-details":"","return-object":""},on:{change:t.initialize},model:{value:t.quickDateRange,callback:function(e){t.quickDateRange=e},expression:"quickDateRange"}})],1),e(r.Z,{attrs:{cols:"6"}},[e(y.Z,{attrs:{color:"green",label:"Custom Date Range"},model:{value:t.useCustomDateRange,callback:function(e){t.useCustomDateRange=e},expression:"useCustomDateRange"}})],1),e(r.Z,{attrs:{cols:"6"}},[e(y.Z,{attrs:{color:"orange",label:"Show Declines"},model:{value:t.showDeclines,callback:function(e){t.showDeclines=e},expression:"showDeclines"}})],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[e(i.Z,{staticClass:"ma-2",attrs:{prominent:"",text:"",type:"info"}},[e(f.Z,{attrs:{align:"center"}},[e(r.Z,{staticClass:"grow"},[t._v(" No records found")]),e(r.Z,{staticClass:"shrink"},[e(s.Z,{staticClass:"my-2 white--text",attrs:{color:"green"},on:{click:t.initialize}},[t._v(" Retry ")])],1)],1)],1)]},proxy:!0}],null,!0)})],1)],1)},x=[],w=(a(6699),a(743)),b=a.n(w),R=a(9669),Z=a.n(R),T=a(381),A=a.n(T),S=a(629),P=a(2152),I={name:"TransactionList",components:{BoolStatus:P.Z},data(){return{datePickerMenu:!1,loading:!1,alert:!1,alertMessage:"",alertType:"success",search:"",filterMenu:!1,filterTypes:["Charge","Refund","Reverse","Capture"],transactionTypes:["Charge","Refund","Reverse","Void","Preauth","Capture","Enroll"],tableFooterProps:{showFirstLastPage:!0},headers:[{text:"Date",align:"left",value:"timestamp"},{text:"Sale ID",align:"center",value:"sale_id"},{text:"Transaction ID",align:"left",value:"transactionId"},{text:"Approved",align:"center",value:"approved",filter:(t,e,a)=>!!this.showDeclines||a.approved},{text:"Card Holder",align:"left",value:"cardHolder"},{text:"Amount",align:"right",value:"authorizedAmount"},{text:"Transaction Type",align:"center",value:"transactionType",filter:(t,e,a)=>{if(!this.filterTypes.length)return!0;if(!a.transactionType)return!1;const i=this.filterTypes.map((t=>t.toUpperCase()));return i.includes(a.transactionType.toUpperCase())}},{text:"Entry Method",align:"left",value:"entryMethod"},{text:"Payment Type",align:"left",value:"paymentType"},{text:"Masked Card",align:"left",value:"maskedPan"},{text:"Actions",align:"left",value:"actions",sortable:!1,filterable:!1}],transactions:[],useCustomDateRange:!1,datepickerDateRange:[],quickDateRange:{text:"Yesterday",value:"yesterday",useForBlockchyp:!0,days:null},voidRefundDialog:!1,captureDialog:!1,voidOrRefund:"void",voidRefundPartialAmountDialog:!1,amount:"",selectedTransactionId:"",loadingActions:!1,showDeclines:!1,axiosSource:null}},watch:{useCustomDateRange:function(t){t||(this.datepickerDateRange=[],this.initialize())}},computed:{...(0,S.Se)(["getAppColors","getInternalCoreClearController","getInternalEmployeePreferencesController","getBlockchypDateRangeChoices"]),dateRangeText(){return this.datepickerDateRange.map((t=>A()(t).format("MM/DD/YYYY"))).join(" through ")},getTotal(){const t=this.filterTypes.map((t=>t.toUpperCase()));let e=0;return this.transactions.forEach((a=>{this.filterTypes.length&&!t.includes(a.transactionType.toUpperCase())||!this.showDeclines&&!a.approved||("refund"===a.transactionType||"void"===a.transactionType||"reverse"===a.transactionType?e-=a.approved?Number(a.authorizedAmount.replace(/,/g,"")):0:e+=a.approved?Number(a.authorizedAmount.replace(/,/g,"")):0)})),b().formatMoney(e)},dateRange(){let t=null,e=null,a=null,i=null;if(this.quickDateRange!=={}){switch(this.quickDateRange.value){case"today":t=0,e=0;break;case"yesterday":t=1,e=1;break;default:t=this.quickDateRange.days,e=0}a=A()().subtract(t,"days"),i=A()().subtract(e,"days")}let s=void 0!==this.datepickerDateRange[0]?this.datepickerDateRange[0]:null!==a?a:"",n=void 0!==this.datepickerDateRange[1]?this.datepickerDateRange[1]:null!==i?i:"";return""!==s&&(s=A()(s).set({hour:0,minute:0,second:0,millisecond:0}).toISOString()),""!==n&&(n=A()(n).set({hour:23,minute:59,second:59,millisecond:999}).toISOString()),{startDate:s,endDate:n}},dateRangeDisplay(){return this.dateRangeText?this.dateRangeText:this.quickDateRange.text}},mounted(){this.getFilterPreferences(),this.initialize()},methods:{openAlert(t,e){this.alertType=t,this.alertMessage=e,this.alert=!0},async initialize(){this.loading=!0,this.datePickerMenu=!1;try{this.axiosSource&&this.axiosSource.cancel(),this.axiosSource=Z().CancelToken.source();let t=await Z().get(""+(this.getInternalCoreClearController+"/get_transactions"),{withCredentials:!0,crossDomain:!0,params:{start_date:this.dateRange.startDate,end_date:this.dateRange.endDate,search:this.search},cancelToken:this.axiosSource.token});this.loading=!1,this.axiosSource=null,t.data.transactions?this.transactions=t.data.transactions:(console.log("No transactions found"),this.transactions=[])}catch(t){console.error("Could not get list of transactions"),console.error(t),this.openAlert("error",t.toString()),this.loading=!1,this.axiosSource=null,this.transactions=[]}},formatDateTime(t){return t?A()(t).format("MM/DD/YYYY LT"):""},formatDate(t){return t?A()(t).format("MM/DD/YYYY"):""},showVoidRefundDialog(t,e){this.voidOrRefund=t,this.voidRefundDialog=!0,this.selectedTransactionId=e},async voidRefundTransaction(t=!0){t&&(this.amount=""),this.alert=!1,this.voidRefundDialog=!1,this.voidRefundPartialAmountDialog=!1,this.loadingActions=!0;let e=new FormData;e.append("amount",this.amount),e.append("void_or_refund",this.voidOrRefund);try{let t=await Z().post(""+(this.getInternalCoreClearController+"/void_return_for_portal/"+this.selectedTransactionId),e,{withCredentials:!0,crossDomain:!0});this.loadingActions=!1,!0===t.data.success?this.openAlert("success",t.data.message):this.openAlert("error",t.data.message)}catch(a){this.voidRefundDialog=!1,this.voidRefundPartialAmountDialog=!1,console.error(a),this.openAlert("error",a)}},async capturePreauth(){this.alert=!1,this.captureDialog=!1,this.loadingActions=!0;let t=new FormData;try{let e=await Z().post(""+(this.getInternalCoreClearController+"/capture_preauth/"+this.selectedTransactionId),t,{withCredentials:!0,crossDomain:!0});if(this.loadingActions=!1,!0===e.data.success){let t="error",a="Unknown error";!0===e.data.approved&&(t="success",a="Successfully captured transaction "+this.selectedTransactionId),this.openAlert(t,a)}else this.openAlert("error",e.data.responseDescription)}catch(e){this.voidRefundDialog=!1,this.voidRefundPartialAmountDialog=!1,console.error(e),this.openAlert("error",e)}},async saveFilterPreferences(){let t=new FormData;t.append("transaction_filters",JSON.stringify(this.filterTypes));try{let e=await Z().post(""+(this.getInternalEmployeePreferencesController+"/save_transaction_filters"),t,{withCredentials:!0,crossDomain:!0});200===e.status?console.log("Filter preferences updated"):console.log("Unable to save filter preferences")}catch(e){console.error(e)}},async getFilterPreferences(){try{let t=await Z().get(""+(this.getInternalEmployeePreferencesController+"/get_transaction_filters"),{withCredentials:!0,crossDomain:!0,params:{}});t.data?this.filterTypes=t.data:(console.log("No filter preferences found"),this.filterTypes=["Charge","Refund","Capture"])}catch(t){console.error("Could not get filter preferences"),console.error(t)}},excelExport(){const t=this.filterTypes.map((t=>t.toLowerCase())),e=this.showDeclines?1:0;window.location.href=this.getInternalCoreClearController+"/excel_export_transactions_for_portal?start_date="+this.dateRange.startDate+"&end_date="+this.dateRange.endDate+"&search="+this.search+"&transaction_type="+encodeURIComponent(JSON.stringify(t))+"&show_declines="+e}},filters:{titleCase:t=>{if(!t)return"";t=t.toString().toLowerCase().split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")},currency:(t,e)=>{if(!t)return"0";let a=b().formatMoney(t);return"void"===e||"refund"===e||"reverse"===e?"-"+a:a}}},M=I,z=a(1001),B=(0,z.Z)(M,_,x,!1,null,null,null),V=B.exports},7446:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var i=a(6035),s=function(){var t=this,e=t._self._c;return e(i.Z,{staticClass:"py-10",attrs:{fluid:""}},[e("router-view")],1)},n=[],o={name:"TransactionScreen"},r=o,l=a(1001),c=(0,l.Z)(r,s,n,!1,null,null,null),u=c.exports},6660:(t,e,a)=>{a.d(e,{Z:()=>c});a(7393);var i=a(1465),s=a(3316),n=a(3134),o=a(3422),r=a(6275),l=a(1050),c=i.Z.extend({name:"v-switch",directives:{Touch:n.Z},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...s.Z.options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...e}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(o.b0,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(r.Z,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===l.Do.left&&this.isActive||t.keyCode===l.Do.right&&!this.isActive)&&this.onChange()}}})},3432:(t,e,a)=>{a.d(e,{Z:()=>h});var i=a(5840),s=a(8914),n=a(4019),o=a(2524),r=a(7482),l=a(1050),c=a(6596),u=a(4987),h=(0,u.Z)(s.Z,n.Z,o.Z,r.Z).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,a=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left;let s=0;return this.top||this.bottom||a?s=i+t.width/2-e.width/2:(this.left||this.right)&&(s=i+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),`${this.calcXOverflow(s,this.dimensions.content.width)}px`},calculatedTop(){const{activator:t,content:e}=this.dimensions,a=!1!==this.attach?t.offsetTop:t.top;let i=0;return this.top||this.bottom?i=a+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=a+t.height/2-e.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),!1===this.attach&&(i+=this.pageYOffset),`${this.calcYOverflow(i)}px`},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:(0,l.kb)(this.maxWidth),minWidth:(0,l.kb)(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick((()=>{this.value&&this.callActivate()}))},mounted(){"v-slot"===(0,l.sp)(this,"activator",!0)&&(0,c.N6)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=i.Z.options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===l.Do.esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((()=>[this.genTransition()])),this.genActivator()])}})},1465:(t,e,a)=>{a.d(e,{Z:()=>u});a(7658);var i=a(3316),s=a(3176),n=a(144),o=n.ZP.extend({name:"rippleable",directives:{ripple:s.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),r=a(564),l=a(4987);function c(t){t.preventDefault()}var u=(0,l.Z)(i.Z,o,r.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=i.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:c},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:c},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const a=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===a&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}})},7393:()=>{}}]);
//# sourceMappingURL=transaction.732229df.js.map
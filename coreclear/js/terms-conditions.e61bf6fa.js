"use strict";(self["webpackChunkcoreclear_portal"]=self["webpackChunkcoreclear_portal"]||[]).push([[889],{6303:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(2202),l=a(7179),o=a(3385),r=a(4437),n=a(6035),i=a(9841),c=a(9789),d=a(5057),m=a(248),u=a(1908),p=a(92),g=a(5294),h=a(5234),C=a(5952),Z=a(5838),v=a(2370),f=function(){var e=this,t=e._self._c;return t(n.Z,{staticClass:"py-10",attrs:{fluid:""}},[t(g.Z,{staticClass:"justify-center"},[t(r.Z,{attrs:{cols:"12",md:"10"}},[t(s.Z,{staticStyle:{position:"fixed",top:"20%",left:"50%",transform:"translate(-50%, -50%)","z-index":"9999","max-width":"35rem"},attrs:{type:e.alertType,border:"left","close-text":"Close Alert",elevation:"10",dismissible:"",transition:"scale-transition"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.alertMessage)+" ")]),t(o.Z,{staticClass:"rounded-lg pb-2"},[t(Z.Z,{attrs:{color:"green",dark:""}},[t(v.qW,[e._v("Terms and Conditions")]),t(h.Z),t(l.Z,{staticClass:"white--text ml-2",attrs:{color:"green",fab:"",small:"",rounded:""},on:{click:function(t){e.addDialog=!0}}},[t(d.Z,[e._v(" mdi-plus ")])],1)],1),t(c.Z,{attrs:{fullscreen:this.$vuetify.breakpoint.smAndDown,"max-width":"800"},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[t(o.Z,{staticClass:"rounded-lg pb-2"},[t(Z.Z,{attrs:{color:"green",dark:""}},[t(v.qW,[e._v(" Create A New Template ")])],1),t(n.Z,[t(g.Z,[t(r.Z,[t("p",[e._v("Template Name:")]),t(C.Z,{model:{value:e.addItem.name,callback:function(t){e.$set(e.addItem,"name",t)},expression:"addItem.name"}})],1)],1),t(g.Z,[t(r.Z,[t("p",[e._v("Template Alias:")]),t(C.Z,{model:{value:e.addItem.alias,callback:function(t){e.$set(e.addItem,"alias",t)},expression:"addItem.alias"}})],1)],1),t(g.Z,[t(r.Z,[t("p",[e._v("Template Content:")]),t(C.Z,{model:{value:e.addItem.content,callback:function(t){e.$set(e.addItem,"content",t)},expression:"addItem.content"}})],1)],1),t(g.Z,[t(l.Z,{staticClass:"ma-2",attrs:{color:"error"},on:{click:function(t){return e.closeDialog("add")}}},[e._v("Cancel")]),t(l.Z,{staticClass:"ma-2",attrs:{color:"success"},on:{click:e.createTerms}},[e._v("Add")])],1)],1)],1)],1),t(c.Z,{attrs:{fullscreen:this.$vuetify.breakpoint.smAndDown,"max-width":"800"},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[t(o.Z,{staticClass:"rounded-lg pb-2"},[t(Z.Z,{attrs:{color:"green",dark:""}},[t(v.qW,[e._v(" Update Template ")])],1),t(n.Z,[t(g.Z,[t(r.Z,[t("p",[e._v("Template Name:")]),t(C.Z,{model:{value:e.editItem.name,callback:function(t){e.$set(e.editItem,"name",t)},expression:"editItem.name"}})],1)],1),t(g.Z,[t(r.Z,[t("p",[e._v("Template Alias:")]),t(C.Z,{model:{value:e.editItem.alias,callback:function(t){e.$set(e.editItem,"alias",t)},expression:"editItem.alias"}})],1)],1),t(g.Z,[t(r.Z,[t("p",[e._v("Template Content:")]),t(C.Z,{model:{value:e.editItem.content,callback:function(t){e.$set(e.editItem,"content",t)},expression:"editItem.content"}})],1)],1),t(g.Z,[t(l.Z,{staticClass:"ma-2",attrs:{color:"error"},on:{click:function(t){return e.closeDialog("edit")}}},[e._v("Cancel")]),t(l.Z,{staticClass:"ma-2",attrs:{color:"success"},on:{click:e.updateTerms}},[e._v("Update")])],1)],1)],1)],1),[t(i.Z,{attrs:{headers:e.headers,items:e.results,"items-per-page":5,loading:e.dataLoading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(p.Z,{attrs:{transition:"scroll-y-transition",bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(l.Z,e._g(e._b({attrs:{icon:""}},"v-btn",s,!1),a),[t(d.Z,[e._v(" mdi-dots-vertical ")])],1)]}}],null,!0)},[t(m.Z,[t(u.Z,[t(l.Z,{attrs:{color:"warning",text:""},on:{click:function(t){return e.openEditDialog(a)}}},[t(d.Z,{attrs:{small:"",left:""}},[e._v(" mdi-pencil ")]),e._v(" Edit ")],1)],1),t(u.Z,[t(l.Z,{attrs:{color:"error",text:""},on:{click:function(t){return e.deleteTerms(a)}}},[t(d.Z,{attrs:{small:"",left:""}},[e._v(" mdi-delete ")]),e._v(" Delete ")],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[t(s.Z,{staticClass:"ma-2",attrs:{prominent:"",text:"",type:"info"}},[t(g.Z,{attrs:{align:"center"}},[t(r.Z,{staticClass:"grow"},[e._v(" No records found ")]),t(r.Z,{staticClass:"shrink"},[t(l.Z,{staticClass:"my-2 white--text",attrs:{color:"green"},on:{click:e.initialize}},[e._v(" Retry ")])],1)],1)],1)]},proxy:!0}],null,!0)})]],2)],1)],1)],1)},_=[],I=a(9669),T=a.n(I),y=a(629),k={name:"TermsAndConditionsManage",data(){return{alert:!1,alertMessage:"",alertType:"success",dataLoading:!1,addDialog:!1,editDialog:!1,results:[],addItem:{alias:"",name:"",content:""},editItem:{id:"",alias:"",name:"",content:""},headers:[{text:"Template Name",align:"start",sortable:!0,value:"name"},{text:"Template Alias",value:"alias"},{text:"Template Content",value:"content"},{text:"Actions",value:"actions",sortable:!1}]}},computed:{...(0,y.Se)(["getInternalCoreClearController"])},mounted(){this.initialize()},methods:{initialize(){this.getTerms(),this.getTermsLog()},async getTerms(){this.dataLoading=!0;try{let e=await T().get(`${this.getInternalCoreClearController}/terms_templates`,{withCredentials:!0,crossDomain:!0});!0===e.data.success?this.results=e.data.results:console.log("A problem occured"),this.dataLoading=!1}catch(e){console.error("Could not get terms"),console.error(e)}},async getTermsLog(){this.dataLoading=!0;try{let e=await T().get(`${this.getInternalCoreClearController}/terms_log`,{withCredentials:!0,crossDomain:!0});!0===e.data.success?(console.log(e),this.dataLoading=!1):console.log("A problem occured")}catch(e){console.error("Could not get log"),console.error(e)}},async getTermsById(){try{let e=await T().get(`${this.getInternalCoreClearController}/terms_templates`,{withCredentials:!0,crossDomain:!0,params:{template_id:"templateId"}});e&&console.log(e)}catch(e){console.error("Could not get terms"),console.error(e)}},async createTerms(){console.log("hello world");let e=new FormData;e.append("alias",this.addItem.alias),e.append("name",this.addItem.name),e.append("content",this.addItem.content);try{let t=await T().post(`${this.getInternalCoreClearController}/update_terms_template`,e,{withCredentials:!0,crossDomain:!0});!0===t.data.success?(console.log(t),this.alert=!0,this.alertMessage="Terms Created",this.alertType="success",setTimeout((()=>{location.reload()}),1500)):console.log("A problem occured")}catch(t){console.error("Could not create terms"),console.error(t)}},async updateTerms(){console.log(this.editItem);let e=new FormData;e.append("template_id",this.editItem.id),e.append("alias",this.editItem.alias),e.append("name",this.editItem.name),e.append("content",this.editItem.content);try{let t=await T().post(`${this.getInternalCoreClearController}/update_terms_template`,e,{withCredentials:!0,crossDomain:!0});!0===t.data.success?(console.log(t),this.alert=!0,this.alertMessage="Terms Updated",this.alertType="success",setTimeout((()=>{location.reload()}),1500)):console.log("A problem occured")}catch(t){console.error("Could not update terms"),console.error(t)}},async deleteTerms(e){let t=new FormData;t.append("template_id",e.id);try{let e=await T().post(`${this.getInternalCoreClearController}/delete_terms_template`,t,{withCredentials:!0,crossDomain:!0});!0===e.data.success?(console.log(e),this.alert=!0,this.alertMessage="Terms Deleted",this.alertType="success",setTimeout((()=>{location.reload()}),1500)):console.log("A problem occured")}catch(a){console.error("Could not delete terms"),console.error(a)}},openEditDialog(e){this.editItem=e,this.editDialog=!0},closeDialog(e){"add"==e?(this.addDialog=!1,this.addItem={alias:"",name:"",content:""}):"edit"==e&&(this.editDialog=!1,this.editItem={id:"",alias:"",name:"",content:""})}}},w=k,D=a(1001),b=(0,D.Z)(w,f,_,!1,null,null,null),x=b.exports},1061:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(6035),l=function(){var e=this,t=e._self._c;return t(s.Z,{staticClass:"p-10",attrs:{fluid:""}},[t("router-view")],1)},o=[],r={name:"TermsAndConditionsScreen"},n=r,i=a(1001),c=(0,i.Z)(n,l,o,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=terms-conditions.e61bf6fa.js.map
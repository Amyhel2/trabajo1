"use strict";(self["webpackChunkcoreclear_portal"]=self["webpackChunkcoreclear_portal"]||[]).push([[616],{3015:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var r=a(2202),s=a(8819),l=a(7179),o=a(3385),i=a(5223),n=a(4437),d=a(6035),c=a(9789),m=a(3422),u=a(6904),p=a(2469),g=a(1302),h=a(5294),v=a(5234),f=a(5952),y=a(5838),Z=a(2370),w=function(){var e=this,t=e._self._c;return t(d.Z,{staticClass:"fill-height",attrs:{fluid:""}},[t(h.Z,{staticClass:"align-center justify-center"},[t(n.Z,{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[t(r.Z,{attrs:{border:"left","close-text":"Close Alert",type:e.alertType,transition:"scale-transition",prominent:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.alertMessage)+" ")]),t(m.Z5,[t(o.Z,{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"elevation-12 rounded-lg"},[t(y.Z,{attrs:{color:e.getAppColors.primary,dark:""}},[t(s.Z,{attrs:{size:"50px"}},[t(p.Z,{attrs:{alt:"Logo",src:a(9344),contain:""}})],1),t(Z.qW,{attrs:{dark:""}},[e._v(" core"),t("strong",[e._v("CLEAR")]),e._v(" Portal ")])],1),t(i.EB,[e._v("Forgot Password")]),t(i.ZB,[t(u.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(f.Z,{attrs:{"prepend-icon":"person",color:e.getAppColors.primary,label:"Username or Email",name:"usernameOrEmail",type:"text",autocomplete:"usernameOrEmail",rules:e.usernameOrEmailRules,required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.usernameOrEmail,callback:function(t){e.usernameOrEmail=t},expression:"usernameOrEmail"}})],1)],1),t(i.h7,[t(l.Z,{attrs:{text:"",rounded:"",large:"",to:"/"}},[e._v("Cancel")]),t(v.Z),t(l.Z,{staticClass:"white--text",attrs:{color:e.getAppColors.primary,disabled:!e.valid,loading:e.loading,rounded:"",large:""},on:{click:e.submit}},[e._v(" Reset password ")])],1)],1)],1),t(c.Z,{attrs:{"hide-overlay":"",persistent:"",transition:"dialog-bottom-transition",width:"300"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[t(o.Z,{attrs:{color:e.getAppColors.primary,dark:""}},[t(i.ZB,[e._v(" Please wait... "),t(g.Z,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)],1)},C=[],_=a(9669),k=a.n(_),b=a(629),E={name:"ForgotPassword",data(){return{loading:!1,valid:!1,alert:!1,alertMessage:"",alertType:"success",usernameOrEmail:"",usernameOrEmailRules:[e=>!!e||"Username or Email is required"]}},computed:{...(0,b.Se)(["getAppColors","getInternalLoginController"])},methods:{openAlert(e,t){this.alertType=e,this.alertMessage=t,this.alert=!0},submit(){this.$refs.form.validate()&&(this.loading=!0,this.alert=!1,this.doResetPasswordNotify())},async doResetPasswordNotify(){let e=new FormData;e.append("username_or_email",this.usernameOrEmail);try{let t=await k().post(""+(this.getInternalLoginController+"/do_reset_password_notify/1"),e,{withCredentials:!0,crossDomain:!0});this.loading=!1,!0===t.data.success?this.openAlert("success",t.data.message):this.openAlert("error",t.data.message)}catch(t){console.error(t)}}}},x=E,A=a(1001),O=(0,A.Z)(x,w,C,!1,null,null,null),P=O.exports}}]);
//# sourceMappingURL=forgotPassword.116bf38e.js.map
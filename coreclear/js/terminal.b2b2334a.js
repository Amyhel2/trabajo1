"use strict";(self["webpackChunkcoreclear_portal"]=self["webpackChunkcoreclear_portal"]||[]).push([[910],{207:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F});var a=i(2202),s=i(7179),n=i(3385),r=i(5223),l=i(6072),o=i(4944),d=i(4437),c=i(6035),h=i(9841),u=i(9789),p=i(271),m=i(6904),g=i(5057),v=i(2469),f=i(248),b=i(1908),y=i(92),C=i(3823),A=i(5294),x=i(2927),w=i(5234),Z=i(5952),k=i(5838),B=i(2370),I=function(){var e=this,t=e._self._c;return t(c.Z,{staticClass:"py-10",attrs:{fluid:""}},[t(A.Z,{attrs:{justify:"center"}},[t(d.Z,{attrs:{cols:"12",lg:"4"}},[t(a.Z,{staticStyle:{position:"fixed",top:"20%",left:"50%",transform:"translate(-50%, -50%)","z-index":"9999","max-width":"35rem"},attrs:{type:e.alertType,border:"left","close-text":"Close Alert",elevation:"10",dismissible:"",transition:"scale-transition"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.alertMessage)+" ")]),t(u.Z,{model:{value:e.editAssetDialog,callback:function(t){e.editAssetDialog=t},expression:"editAssetDialog"}},[t(n.Z,{staticClass:"rounded-lg"},[t(k.Z,{attrs:{color:"green",dark:"",flat:"","mt-4":""}},[t(B.qW,[e._v(" Edit Asset ")])],1),t(c.Z,{staticClass:"mx-2"},[t(A.Z,{staticClass:"ma-4"},[t(v.Z,{attrs:{src:e.thumbnail,"max-width":"200"}})],1),t(A.Z,{staticClass:"mx-4"},[t(d.Z,{attrs:{cols:"6"}},[t("p",[e._v("Effective Date:")]),t(Z.Z,{attrs:{label:e.startDateLabel,"error-messages":e.startDateError},on:{input:function(t){return e.validateFormat("startDate")}},model:{value:e.editBrandingAsset.startDate,callback:function(t){e.$set(e.editBrandingAsset,"startDate",t)},expression:"editBrandingAsset.startDate"}})],1),t(d.Z,{attrs:{cols:"6"}},[t("p",[e._v("Expiration Date:")]),t(Z.Z,{attrs:{label:e.endDateLabel,"error-messages":e.endDateError},on:{input:function(t){return e.validateFormat("endDate")}},model:{value:e.editBrandingAsset.endDate,callback:function(t){e.$set(e.editBrandingAsset,"endDate",t)},expression:"editBrandingAsset.endDate"}})],1)],1),t(A.Z,{staticClass:"mx-4"},[t(d.Z,[t("p",[e._v("Start Time (Local):")]),t(Z.Z,{attrs:{label:e.startTimeLabel,"error-messages":e.startTimeError},on:{input:function(t){return e.validateFormat("startTime")}},model:{value:e.editBrandingAsset.startTime,callback:function(t){e.$set(e.editBrandingAsset,"startTime",t)},expression:"editBrandingAsset.startTime"}})],1),t(d.Z,[t("p",[e._v("Stop Time (Local):")]),t(Z.Z,{attrs:{label:e.endTimeLabel,"error-messages":e.endTimeError},on:{input:function(t){return e.validateFormat("endTime")}},model:{value:e.editBrandingAsset.endTime,callback:function(t){e.$set(e.editBrandingAsset,"endTime",t)},expression:"editBrandingAsset.endTime"}})],1),t(d.Z,[t("p",[e._v("Notes:")]),t(Z.Z,{attrs:{label:e.notesLabel},model:{value:e.editBrandingAsset.notes,callback:function(t){e.$set(e.editBrandingAsset,"notes",t)},expression:"editBrandingAsset.notes"}})],1)],1),t(A.Z,{staticClass:"mx-4"},[t(d.Z,[t("p",[e._v("Days Active:")]),t(A.Z,[t(l.Z,{staticClass:"mx-3",attrs:{label:"Sun"},model:{value:e.daysOfWeek[0].value,callback:function(t){e.$set(e.daysOfWeek[0],"value",t)},expression:"daysOfWeek[0].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Mon"},model:{value:e.daysOfWeek[1].value,callback:function(t){e.$set(e.daysOfWeek[1],"value",t)},expression:"daysOfWeek[1].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Tue"},model:{value:e.daysOfWeek[2].value,callback:function(t){e.$set(e.daysOfWeek[2],"value",t)},expression:"daysOfWeek[2].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Wed"},model:{value:e.daysOfWeek[3].value,callback:function(t){e.$set(e.daysOfWeek[3],"value",t)},expression:"daysOfWeek[3].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Thu"},model:{value:e.daysOfWeek[4].value,callback:function(t){e.$set(e.daysOfWeek[4],"value",t)},expression:"daysOfWeek[4].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Fri"},model:{value:e.daysOfWeek[5].value,callback:function(t){e.$set(e.daysOfWeek[5],"value",t)},expression:"daysOfWeek[5].value"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Sat"},model:{value:e.daysOfWeek[6].value,callback:function(t){e.$set(e.daysOfWeek[6],"value",t)},expression:"daysOfWeek[6].value"}})],1)],1)],1),t(A.Z,{staticClass:"mx-4 pb-2"},[t(d.Z,[t("p",[e._v("Options:")]),t(A.Z,[t(l.Z,{staticClass:"mx-3",attrs:{label:"Padded"},model:{value:e.editBrandingAsset.padded,callback:function(t){e.$set(e.editBrandingAsset,"padded",t)},expression:"editBrandingAsset.padded"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Enabled"},on:{change:function(t){return e.checkExclusiveValue("enabled")}},model:{value:e.editBrandingAsset.enabled,callback:function(t){e.$set(e.editBrandingAsset,"enabled",t)},expression:"editBrandingAsset.enabled"}}),t(l.Z,{staticClass:"mx-3",attrs:{label:"Preview"},on:{change:function(t){return e.checkExclusiveValue("preview")}},model:{value:e.editBrandingAsset.preview,callback:function(t){e.$set(e.editBrandingAsset,"preview",t)},expression:"editBrandingAsset.preview"}})],1)],1)],1),t(A.Z,{staticClass:"my-6"},[t(s.Z,{staticClass:"mx-4",attrs:{color:"error"},on:{click:function(t){e.editAssetDialog=!1}}},[e._v(" Cancel ")]),t(s.Z,{staticClass:"mx-4",attrs:{color:"success"},on:{click:function(t){e.standardUpdate=!0,e.updateTerminalBrandingAsset(e.item)}}},[e._v(" Update ")])],1)],1)],1)],1),t(n.Z,{staticClass:"rounded-lg pb-2",attrs:{align:"center"}},[t(k.Z,{attrs:{color:"green",dark:""}},[t(B.qW,[e._v("Terminal Preview")]),t(w.Z)],1),t(A.Z,{attrs:{justify:"center"}},[t(d.Z,{attrs:{cols:"12"}},[e.previewTerminal?t("div",{staticClass:"rounded-lg pb-1 mx-4 mt-4"},[t(v.Z,{attrs:{src:e.previewFile}}),e.currentTerminal?t(o.Z,{staticClass:"mt-2 text-button",attrs:{color:"green",dark:""}},[e._v(" Visible Now ")]):e._e()],1):t("div",{staticClass:"rounded-lg pb-1 mx-4 mt-4"},[t("p",[e._v("Preview a branding asset here")])])])],1)],1),t(a.Z,{staticClass:"my-4",attrs:{"close-text":"Close Alert",elevation:"10",dismissible:"",type:"info"},model:{value:e.assetAlert,callback:function(t){e.assetAlert=t},expression:"assetAlert"}},[e._v("No branding assets are currently active")])],1),t(d.Z,{attrs:{cols:"12",lg:"8"}},[t(n.Z,{staticClass:"rounded-lg pb-2"},[t(k.Z,{attrs:{color:"green",dark:""}},[t(B.qW,[e._v("Branding Assets")]),t(w.Z),t(u.Z,{staticClass:"rounded-lg",attrs:{fullscreen:"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(s.Z,e._g(e._b({attrs:{depressed:"",light:""}},"v-btn",a,!1),i),[e._v(" ADD MEDIA ")])]}}]),model:{value:e.addMediaDialog,callback:function(t){e.addMediaDialog=t},expression:"addMediaDialog"}},[t(n.Z,{staticClass:"rounded-lg"},[t(k.Z,{attrs:{color:"green",dark:""}},[t(B.qW,[e._v(" Add Media ")])],1),t(r.ZB,{staticClass:"pa-lg-4 pb-lg-0"},[t(c.Z,{staticClass:"mb-6"},[t(A.Z,[t(d.Z,{staticClass:"d-flex align-stretch justify-center",attrs:{cols:"12",md:"4",align:"center"}},[t(n.Z,{staticClass:"pa-2 rounded-lg"},[t(r.EB,{staticClass:"justify-center",staticStyle:{"word-break":"break-word"}},[e._v(" Select Image or Video ")]),t("div",[t(m.Z,{ref:"uploadForm",attrs:{"lazy-validation":""},model:{value:e.uploadValid,callback:function(t){e.uploadValid=t},expression:"\n                                                            uploadValid\n                                                        "}},[t(s.Z,e._g(e._b({staticClass:"mb-2",attrs:{loading:e.isSelecting},on:{click:function(t){e.getMediaLibrary(),e.innerModal=!0}}},"v-btn",e.attrs,!1),e.on),[e._v(" MEDIA LIBRARY ")]),t(v.Z,{attrs:{src:e.selectedImageUrl,"max-width":"150"}}),e.selectedImageUrl?t(s.Z,{staticClass:"mt-2",attrs:{color:"green",dark:""},on:{click:e.addMedia}},[e._v("Add Image")]):e._e(),e.selectedImageUrl?t(s.Z,{staticClass:"mt-2 mx-2",attrs:{color:"red",dark:""},on:{click:function(t){e.selectedImageUrl="",e.selectedId=""}}},[e._v("Remove Image")]):e._e(),t("input",{ref:"uploader",staticClass:"d-none",attrs:{type:"file"}})],1)],1)],1)],1),t(d.Z,{staticClass:"d-flex align-stretch justify-center",attrs:{cols:"12",md:"4",align:"center"}},[t(n.Z,{staticClass:"pa-2 rounded-lg"},[t(r.EB,{staticClass:"justify-center",staticStyle:{"word-break":"break-word"}},[e._v(" Upload Image or Video ")]),t(m.Z,{ref:"uploadForm",attrs:{"lazy-validation":""},model:{value:e.uploadValid,callback:function(t){e.uploadValid=t},expression:"uploadValid"}},[t(p.Z,{staticClass:"px-5",attrs:{chips:"",counter:"","show-size":"","truncate-length":"50",accept:"image/*",label:"Choose File",variant:"outlined",hint:"Recommended dimensions: 840 x 480","persistent-hint":""},model:{value:e.originalFile,callback:function(t){e.originalFile=t},expression:"\n                                                            originalFile\n                                                        "}})],1),t(s.Z,{staticClass:"justify-center",staticStyle:{display:"block",margin:"0 auto 1rem"},attrs:{right:"",disabled:!e.uploadValid},on:{click:e.uploadMedia}},[e._v(" Upload ")])],1)],1),t(d.Z,{staticClass:"d-flex align-stretch justify-center",attrs:{cols:"12",md:"4",align:"center"}},[t(n.Z,{staticClass:"pa-2 rounded-lg"},[t(r.EB,{staticClass:"justify-center",staticStyle:{"word-break":"break-word"}},[e._v(" Select a Slideshow ")]),t("div",[t(m.Z,{ref:"uploadForm",attrs:{"lazy-validation":""},model:{value:e.uploadValid,callback:function(t){e.uploadValid=t},expression:"\n                                                            uploadValid\n                                                        "}},[t(x.Z,{staticClass:"pb-0",attrs:{items:e.selectSlideShow.map((e=>e.name)),label:"Select a Slideshow",solo:""},on:{input:e.slideshowSelection}}),t(s.Z,{attrs:{color:"green",dark:""},on:{click:e.addMedia}},[e._v("Add Slideshow")]),t(s.Z,{staticClass:"mt-4",attrs:{to:"/terminals/slideshows"}},[e._v("Manage Slideshows")])],1)],1)],1)],1)],1)],1)],1),t(u.Z,{attrs:{persistent:"","max-width":"75%",scrollable:""},model:{value:e.innerModal,callback:function(t){e.innerModal=t},expression:"innerModal"}},[t(c.Z,[t(A.Z,{attrs:{justify:"center"}},e._l(e.library,(function(i){return t(d.Z,{key:i.id,staticClass:"d-flex flex-column justify-center align-center",attrs:{cols:"3",sm:"2"}},[t("div",[t(n.Z,{staticClass:"mb-4 mx-12"},[t("button",{on:{click:function(t){return e.selectImage(i)}}},[t(v.Z,{class:{selectedImage:e.selectedId===i.id},attrs:{src:i.thumbnailUrl}})],1)])],1)])})),1),t(A.Z,{attrs:{justify:"center"}},[t(C.Z,{staticClass:"my-6",attrs:{circle:"",length:e.pagesTotal,"total-visible":7},on:{input:e.getMediaLibrary},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),t(A.Z,{attrs:{justify:"center"}},[t(s.Z,{staticClass:"mx-4 mb-2",attrs:{"max-width":"100",color:"red",dark:""},on:{click:function(t){e.innerModal=!1,e.selectedImages="",e.selectedImageUrl="",e.selectedId=""}}},[e._v(" Cancel ")]),t(s.Z,{staticClass:"mx-4 mb-2",attrs:{"max-width":"100",color:"green",dark:""},on:{click:function(t){e.innerModal=!1}}},[e._v("Close")])],1)],1)],1),t(A.Z,{attrs:{justify:"center"}},[t(r.h7,{staticClass:"justify-space-between pb-lg-4"},[t(s.Z,{attrs:{width:"130",color:"red",dark:""},on:{click:function(t){e.addMediaDialog=!1,e.selectedImages="",e.selectedImageUrl="",e.selectedId=""}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1),t(A.Z,{attrs:{justify:"center"}},[t(d.Z,{attrs:{cols:"12"}},[[t(h.Z,{attrs:{headers:e.headers,items:e.branding,loading:e.loading,"loading-text":"Loading... Please wait","items-per-page":5},scopedSlots:e._u([{key:"item.thumbnail",fn:function({item:e}){return[t("div",{staticClass:"py-2"},[t(v.Z,{attrs:{contain:"",src:e.thumbnail,alt:e.ownerName,"max-height":"100"}})],1)]}},{key:"item.actions",fn:function({item:i}){return[t(y.Z,{attrs:{transition:"scroll-y-transition",bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(s.Z,e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),i),[t(g.Z,[e._v(" mdi-dots-vertical ")])],1)]}}],null,!0)},[t(f.Z,[t(b.Z,[t(s.Z,{attrs:{color:"warning",text:""},on:{click:function(t){return e.openEditDialog(i)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" mdi-pencil ")]),e._v(" Edit ")],1)],1),t(b.Z,[t(s.Z,{attrs:{color:"primary",text:""},on:{click:function(t){return e.getPreviewItem(i)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" mdi-preview ")]),e._v(" Preview ")],1)],1),t(b.Z,[t(s.Z,{attrs:{color:"error",text:""},on:{click:function(t){return e.deleteBrandingAsset(i)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" mdi-delete ")]),e._v(" Delete ")],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[t(a.Z,{staticClass:"ma-2",attrs:{prominent:"",text:"",type:"info"}},[t(A.Z,{attrs:{align:"center"}},[t(d.Z,{staticClass:"grow"},[e._v(" No records found")]),t(d.Z,{staticClass:"shrink"},[t(s.Z,{staticClass:"my-2 white--text",attrs:{color:"green"},on:{click:e.initialize}},[e._v(" Retry ")])],1)],1)],1)]},proxy:!0}],null,!0)})]],2)],1)],1)],1)],1)],1)},D=[],_=(i(7658),i(9669)),S=i.n(_),T=i(629),$=JSON.parse('{"FQ":{"EO":"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"},"sW":[{"id":"47BCQTGXU4I6ZD2MVTPEQAAREI","ownerId":"WY2ZBQWRFEI6ZE6FVTPEQAAREI","terminalId":"","terminalGroupId":"","merchantId":"WY2ZBQWRFEI6ZE6FVTPEQAAREI","organizationId":"","partnerId":"","slideShowId":"","mediaId":"47BCQLWXU4I6ZD2AVTPEQAAREI","padded":false,"startDate":"","endDate":"","daysOfWeek":[5],"startTime":"","endTime":"","ordinal":2,"enabled":true,"preview":false,"userId":"","userName":"","thumbnail":"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80","lastModified":"","notes":"","editable":true,"assetType":"Video","ownerType":"merchant","ownerTypeCaption":"Merchant","ownerName":"Test Merchant","previewImage":"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80","narrativeEffectiveDates":"All Dates","narrativeDisplayPeriod":"Fri ","timeout":0}]}'),E={name:"BrandingScreen",data(){return{loading:!0,valid:!1,alert:!1,alertMessage:"",alertType:"success",addMediaDialog:!1,selectedId:null,standardUpdate:!1,selectedDays:[],isSelecting:!1,selectedImageUrl:"",dragAndDropCapable:!1,editAssetDialog:!1,uploadValid:!1,innerModal:!1,currentTerminal:!1,activeAssetId:"",thumbnail:"",previewFile:"",page:1,startDateLabel:"",endDateLabel:"",startTimeLabel:"",endTimeLabel:"",notesLabel:"",assetAlert:!1,locale:"en",originalFile:null,editBrandingAsset:[{assetId:""},{padded:""},{startDate:""},{startTime:""},{endDate:""},{endTime:""},{notes:""},{preview:""},{enabled:""}],daysOfWeek:[{name:0,value:!1},{name:1,value:!1},{name:2,value:!1},{name:3,value:!1},{name:4,value:!1},{name:5,value:!1},{name:6,value:!1}],library:[],selectedImages:[],selectSlideShow:[],item:[],targetSlideShow:"",pagesTotal:"",files:[],branding:[],startTimeError:[],endTimeError:[],startDateError:[],endDateError:[],correctFormat:!0,previewTerminal:!1,headers:[{text:"Asset",align:"start",sortable:!1,value:"thumbnail"},{text:"Asset Type",value:"assetType",sortable:!1},{text:"Owner",value:"ownerName",sortable:!1},{text:"Effective Dates",value:"narrativeEffectiveDates",sortable:!1},{text:"Display Period",value:"narrativeDisplayPeriod",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],dataBrands:[],previewImage:""}},mounted(){this.initialize(),this.getTerminalBrandingList(),this.getSlideshowList()},computed:{...(0,T.Se)(["getAppColors","getInternalCoreClearController"])},methods:{async initialize(){this.previewImage=$.FQ.EO,this.dataBrands=$.sW,this.loading=!1,this.alert=!1},openEditDialog(e){this.item=e,this.thumbnail=e.thumbnail,this.editAssetDialog=!0,this.editBrandingAsset.assetId=e.id,this.editBrandingAsset.mediaId=e.mediaId,this.editBrandingAsset.slideshowId=e.slideshowId,this.editBrandingAsset.enabled=e.enabled,this.editBrandingAsset.padded=e.padded,this.editBrandingAsset.preview=e.preview,this.editBrandingAsset.notes=e.notes,this.daysOfWeek.forEach((e=>{e.value=!1})),"Always"==e.narrativeDisplayPeriod?this.daysOfWeek.forEach((e=>{e.value=!0})):e.daysOfWeek.forEach((e=>{this.daysOfWeek.forEach((t=>{t.name===e&&(t.value=!0)}))})),""==e.startDate?this.startDateLabel="Enter Date (MM-DD-YYYY)":this.startDateLabel=e.startDate,""==e.endDate?this.endDateLabel="Enter Date (MM-DD-YYYY)":this.endDateLabel=e.endDate,""==e.startTime?this.startTimeLabel="Enter Time":this.startTimeLabel=e.startTime,""==e.endTime?this.endTimeLabel="Enter Time":this.endTimeLabel=e.endTime},async getPreviewItem(e){this.currentTerminal=!1,console.log(e),this.previewTerminal=!0,e.id==this.activeAssetId&&(this.currentTerminal=!0),this.previewFile=e.thumbnail},async updateTerminalBrandingAsset(){if(1==this.correctFormat){const t=[];this.daysOfWeek.forEach((e=>{1==e.value&&t.push(e.name)})),1==this.editBrandingAsset.padded?this.editBrandingAsset.padded=1:this.editBrandingAsset.padded=0,1==this.editBrandingAsset.enabled?this.editBrandingAsset.enabled=1:this.editBrandingAsset.enabled=0,1==this.editBrandingAsset.preview?this.editBrandingAsset.preview=1:this.editBrandingAsset.preview=0,void 0==this.editBrandingAsset.startDate&&(this.editBrandingAsset.startDate=this.item.startDate),void 0==this.editBrandingAsset.endDate&&(this.editBrandingAsset.endDate=this.item.endDate),void 0==this.editBrandingAsset.startTime&&(this.editBrandingAsset.startTime=this.item.startTime),void 0==this.editBrandingAsset.endTime&&(this.editBrandingAsset.endTime=this.item.endTime),void 0==this.editBrandingAsset.notes&&(this.editBrandingAsset.notes=this.item.notes);let i=new FormData;i.append("asset_id",this.editBrandingAsset.assetId),i.append("media_id",this.editBrandingAsset.mediaId),i.append("slide_show_id",this.editBrandingAsset.slideshowId),i.append("start_date",this.editBrandingAsset.startDate),i.append("end_date",this.editBrandingAsset.endDate),i.append("start_time",this.editBrandingAsset.startTime),i.append("end_time",this.editBrandingAsset.endTime),i.append("notes",this.editBrandingAsset.notes),t.forEach((e=>{i.append("days_of_week[]",e)})),i.append("padded",this.editBrandingAsset.padded),i.append("preview",this.editBrandingAsset.preview),i.append("enabled",this.editBrandingAsset.enabled);try{let e=await S().post(""+(this.getInternalCoreClearController+"/update_branding_asset"),i,{withCredentials:!0,crossDomain:!0,headers:{"Content-Type":"multipart/form-data"}});console.log(e),!0===e.data.success&&(this.alert=!0,this.alertType="success",this.alertMessage="Asset updated",setTimeout((()=>{location.reload()}),2e3))}catch(e){console.error("Could not update"),console.error(e)}}else this.alert=!0,this.alertType="warning",this.alertMessage="Invalid format, could not update"},async getTerminalBrandingList(){try{let i=await S().get(""+(this.getInternalCoreClearController+"/terminal_branding"),{withCredentials:!0,crossDomain:!0});if(i.data){console.log(i.data.activeAsset.id);const a=i.data.activeAsset.success;a?this.activeAssetId=i.data.activeAsset.id:this.assetAlert=!0,console.log(this.previewTerminal);var e=i.data.results;for(var t of e)""!=t&&this.branding.push(t)}else this.branding=[],console.log("Branding list not found!")}catch(i){console.error("Could not get branding list"),console.error(i)}},async addMedia(){let e=new FormData;this.targetSlideShow?e.append("slide_show_id",this.targetSlideShow.id):""!=this.selectedImages&&e.append("media_id",this.selectedImages.id);try{let t=await S().post(""+(this.getInternalCoreClearController+"/update_branding_asset"),e,{withCredentials:!0,crossDomain:!0,headers:{"Content-Type":"multipart/form-data"}});t.data?(console.log(t.data),this.alert=!0,this.alertType="success",this.alertMessage="Asset added",setTimeout((()=>{this.selectedImageUrl="",location.reload()}),1500)):console.log("Branding asset not found!")}catch(t){console.error("Could not upload branding asset"),console.error(t)}this.reset()},async deleteBrandingAsset(e){try{let t=await S().get(""+(this.getInternalCoreClearController+"/delete_branding_asset"),{params:{asset_id:e.id},withCredentials:!0,crossDomain:!0});t.data?!0===t.data.success&&(this.imageUsed=!1,this.alert=!0,this.alertType="success",this.alertMessage="Asset deleted",setTimeout((()=>{location.reload()}),2e3)):console.log("Branding asset not found!")}catch(t){console.error("Could not delete branding asset"),console.error(t)}},async getSlideshowList(){try{let e=await S().get(""+(this.getInternalCoreClearController+"/slide_shows"),{withCredentials:!0,crossDomain:!0});e.data?this.selectSlideShow=e.data.results:(this.selectSlideShow=[],console.log("Slideshow list not found!"))}catch(e){console.error("Could not get slideshow list"),console.error(e)}},async getMediaLibrary(e){try{let t=await S().get(""+(this.getInternalCoreClearController+"/get_media"),{params:{page:e},withCredentials:!0,crossDomain:!0});if(t.data){this.pagesTotal=t.data.pages;const e=t.data.results;this.library.length=0;for(let t=0;t<e.length;t++){let i=e[t].id,a=e[t].thumbnailUrl;this.library.push({id:i,thumbnailUrl:a})}}else this.library=[],console.log("Media library not found!")}catch(t){console.error("Could not get media library"),console.error(t),this.alert=!0,this.alertType="error",this.alertMessage=t}},async uploadMedia(){let e=new FormData;e.append("upload_media",this.originalFile,this.originalFile.name);try{let t=await S().post(""+(this.getInternalCoreClearController+"/upload_media"),e,{withCredentials:!0,crossDomain:!0,headers:{"Content-Type":"multipart/form-data"}});t.data?(this.selectedImages=t.data,this.addMedia()):console.log("Unable to upload")}catch(t){console.error("Could not upload media"),console.error(t)}},selectImage(e){this.selectedImages=e,this.selectedImageUrl=e.thumbnailUrl,this.selectedId=e.id},slideshowSelection(e){const t=this.selectSlideShow.find((t=>t.name===e));t?this.targetSlideShow=t:console.log("Selected Slideshow not found!")},checkExclusiveValue(e){"enabled"===e&&!0===this.editBrandingAsset.enabled?this.$nextTick((()=>{this.editBrandingAsset.preview=!1,this.$forceUpdate()})):"preview"===e&&!0===this.editBrandingAsset.preview?this.$nextTick((()=>{this.editBrandingAsset.enabled=!1,this.$forceUpdate()})):console.log("problem occurred")},validateFormat(e){const t=/^$|^(?:[0-9]{1,2}):[0-5][0-9]$/,i=/^$|^(?:(?:0[1-9]|1[0-2])\/(0[1-9]|[12][0-9]|3[01])\/\d{4}|(?:\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]))$/;"startTime"==e?t.test(this.editBrandingAsset.startTime)?(this.startTimeError=[],this.correctFormat=!0):(this.startTimeError=["Invalid time format. Use XX:XX or X:XX."],this.correctFormat=!1):"endTime"==e?t.test(this.editBrandingAsset.endTime)?(this.endTimeError=[],this.correctFormat=!0):(this.endTimeError=["Invalid time format. Use XX:XX or X:XX."],this.correctFormat=!1):"startDate"==e?i.test(this.editBrandingAsset.startDate)?(this.startDateError=[],this.correctFormat=!0):(this.startDateError=["Invalid date format. Use MM/DD/YYYY or YYYY-MM-DD."],this.correctFormat=!1):"endDate"==e&&(i.test(this.editBrandingAsset.endDate)?(this.endDateError=[],this.correctFormat=!0):(this.endDateError=["Invalid date format. Use MM/DD/YYYY or YYYY-MM-DD."],this.correctFormat=!1))},reset(){this.$refs.uploadForm.reset()}}},V=E,M=i(1001),L=(0,M.Z)(V,I,D,!1,null,null,null),F=L.exports},5223:(e,t,i)=>{i.d(t,{EB:()=>o,Qq:()=>r,ZB:()=>l,h7:()=>n});var a=i(3385),s=i(1050);const n=(0,s.Ji)("v-card__actions"),r=(0,s.Ji)("v-card__subtitle"),l=(0,s.Ji)("v-card__text"),o=(0,s.Ji)("v-card__title");a.Z},6072:(e,t,i)=>{i.d(t,{Z:()=>r});i(7393);var a=i(1012),s=i(3316),n=i(1465),r=n.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...s.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},271:(e,t,i)=>{i.d(t,{Z:()=>d});i(6699),i(7658);var a=i(5952),s=a.Z,n=i(4944),r=i(1050),l=i(6596),o=i(2653),d=s.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>(0,r.TI)(e).every((e=>null!=e&&"object"===typeof e))}},computed:{classes(){return{...s.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce(((e,{size:t=0})=>e+t),0);return this.$vuetify.lang.t(this.counterSizeString,e,(0,r.XE)(t,1024===this.base))},internalArrayValue(){return(0,r.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((e=>{const{name:t="",size:i=0}=e,a=this.truncateText(t);return this.showSize?`${a} (${(0,r.XE)(i,1024===this.base)})`:a})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&(0,l.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.multiple?e:e?[e]:[];(0,r.vZ)(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((e,t)=>this.$createElement(n.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e]))):[]},genControl(){const e=s.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=(0,o.y0)(e.data.style,{display:"none"})),e},genInput(){const e=s.options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((t,i)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[i],file:t,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=s.options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:e=>{e.target&&"LABEL"===e.target.nodeName||this.$refs.input.click()}},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}…${e.slice(e.length-t)}`}}})},6904:(e,t,i)=>{i(6699),i(7658);var a=i(4987),s=i(4609),n=i(380);t.Z=(0,a.Z)(s.Z,(0,n.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",(t=>{this.$set(this.errorBag,e._uid,t)}),{immediate:!0}),i={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=e.$watch("shouldValidate",(a=>{a&&(this.errorBag.hasOwnProperty(e._uid)||(i.valid=t(e)))})):i.valid=t(e),i},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find((t=>t._uid===e._uid));if(!t)return;const i=this.watchers.find((e=>e._uid===t._uid));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==t._uid)),this.inputs=this.inputs.filter((e=>e._uid!==t._uid)),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},3823:(e,t,i)=>{i.d(t,{Z:()=>d});i(7658);var a=i(1012),s=i(9495),n=i(8914),r=i(2733),l=i(3276),o=i(4987),d=(0,o.Z)(n.Z,(0,r.Z)({onVisible:["init"]}),l.Z).extend({name:"v-pagination",directives:{Resize:s.Z},props:{circle:Boolean,disabled:Boolean,navigationColor:String,navigationTextColor:String,length:{type:Number,default:0,validator:e=>e%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const e=parseInt(this.totalVisible,10);if(0===e||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const t=Math.min(Math.max(0,e)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);const i=t%2===0?1:0,a=Math.floor(t/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){const e=1,t=this.length,s=this.value-a+2,n=this.value+a-2-i,r=s-1===e+1?2:"...",l=n+1===t-1?n+1:"...";return[1,r,...this.range(s,n),l,this.length]}if(this.value===a){const e=this.value+a-1-i;return[...this.range(1,e),"...",this.length]}if(this.value===s){const e=this.value-a+1;return[1,"...",...this.range(e,this.length)]}return[...this.range(1,a),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const e=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next(e){e.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(e){e.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(e,t){const i=[];e=e>0?e:1;for(let a=e;a<=t;a++)i.push(a);return i},genIcon(e,t,i,s,n){return e("li",[e("button",this.setBackgroundColor(this.navigationColor,{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":n},on:i?{}:{click:s}}),[e(a.Z,{props:{color:this.navigationTextColor}},[t])])])},genItem(e,t){const i=t===this.value&&(this.color||"primary"),a=t===this.value,s=a?this.currentPageAriaLabel:this.pageAriaLabel;return e("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(s,t)},on:{click:()=>this.$emit("input",t)}}),[t.toString()])},genItems(e){return this.items.map(((t,i)=>e("li",{key:i},[isNaN(Number(t))?e("span",{class:"v-pagination__more"},[t.toString()]):this.genItem(e,t)])))},genList(e,t){return e("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render(e){const t=[this.genIcon(e,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(e),this.genIcon(e,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return e("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(e,t)])}})},1465:(e,t,i)=>{i.d(t,{Z:()=>c});i(7658);var a=i(3316),s=i(3176),n=i(144),r=n.ZP.extend({name:"rippleable",directives:{ripple:s.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),l=i(564),o=i(4987);function d(e){e.preventDefault()}var c=(0,o.Z)(a.Z,r,l.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=a.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:d},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}})},7393:()=>{}}]);
//# sourceMappingURL=terminal.b2b2334a.js.map